<nz-layout>
  <!-- Header -->
  <nz-header nz-row>              
    <i class="trigger" nz-icon [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'" (click)="isCollapsed = !isCollapsed" nz-col nzXs=6 nzMd=1></i>
    <p id=appName nz-col nzXs=18 nzMd=23>Rastreador de autobuses</p>
  </nz-header>
  <nz-layout>
    <nz-sider nzCollapsible [(nzCollapsed)]="isCollapsed" [nzTrigger]="null">
        <ul nz-menu nzTheme="dark" [nzInlineCollapsed]="isCollapsed">
          <li nz-menu-item>
            <i nz-icon nzType="user" nzTheme="outline"></i>
            <span *ngIf="user == null">Invitado</span>
            <span *ngIf="user != null">{{user.names}} {{user.surnames}}</span>
          </li>
          <nz-divider></nz-divider>
          <li nz-menu-item nzTitle="Ayuda">
            <i nz-icon nzType="home" nzTheme="outline"></i>
            <span><a [routerLink]="['/home']">Inicio</a></span>
          </li>
          <li nz-menu-item nzTitle="Ayuda">
            <i nz-icon nzType="question-circle" nzTheme="outline"></i>
            <span>Ayuda</span>
          </li>
          <li nz-menu-item (click)="showLoginModal()" *ngIf="user == null">
            <i nz-icon nzType="login" nzTheme="outline"></i>
            <span>Iniciar sesión</span>
          </li>
          <li nz-menu-item *ngIf="user != null" (click)="logout()">
            <i nz-icon nzType="logout" nzTheme="outline"></i>
            <span>Cerrar sesión</span>
          </li>
        </ul>
    </nz-sider>        
    <!-- body -->
    <nz-content>
        <router-outlet></router-outlet>
    </nz-content>
  </nz-layout>
  <!-- Footer -->
  <nz-footer>Footer</nz-footer>
</nz-layout>

<!-- Modal -->
<app-login [isVisible]="loginModalVisible" (loginModalVisible)="changeLoginModalState($event)" (userData)=setUserData($event)></app-login>